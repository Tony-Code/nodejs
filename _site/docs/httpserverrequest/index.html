<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>http.ServerRequest | nodejs</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="http.ServerRequest" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="nodejs文档" />
<meta property="og:description" content="nodejs文档" />
<link rel="canonical" href="http://localhost:4000/docs/httpserverrequest/" />
<meta property="og:url" content="http://localhost:4000/docs/httpserverrequest/" />
<meta property="og:site_name" content="nodejs" />
<script type="application/ld+json">
{"@type":"WebPage","url":"http://localhost:4000/docs/httpserverrequest/","headline":"http.ServerRequest","description":"nodejs文档","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=c5ccc10d5dbcf8e77514e97c7bc308afb1b9f621">
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">nodejs</a></h1>
      

      <h1 id="httpserverrequest">http.ServerRequest</h1>
<p>这个对象通常由HTTP SERVER 建立而非用户手动建立，并且会作为传递给’request’事件监听器第一个参数
此对象的可以触发以下事件：</p>

<p><strong>Event: ‘data’</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function (chunk) { }```

当接收到信息体中的一部分时候会发出data 事件。
例如:代表消息体的数据块将作为唯一的参数传递给回调函数。这个时候数据已经按照传输编码进行了解码（不
是字符集编码）。消息体本身是一个字符串，可以使用request.setBodyEncoding()方法设定消息体的编码。


**Event: 'end'**
</code></pre></div></div>
<p>function () { }```</p>

<p>每次完全接收完信息后都会触发一次。没有参数，当这个事件发出后，将不会再触发其他事件。</p>

<p><strong>request.method</strong></p>

<p>request.method 是一个只读字符串。例如’GET’,’DELETE’</p>

<p><strong>request.url</strong></p>

<p>代表所请求的URL 字符串.他仅包括实际的HTTP 请求中的URL 地址。如果这个请求是</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /status?name=ryan HTTP/1.1\r\n
Accept: text/plain\r\n
\r\n```

则request.url 应当是


    '/status?name=ryan'


如果你想要解析这个URL
中的各个部分，你应当使用require('url').parse(request.url).
Example:


</code></pre></div></div>
<p>node&gt; require(‘url’).parse(‘/status?name=ryan’)
{ href: ‘/status?name=ryan’
, search: ‘?name=ryan’
, query: ‘name=ryan’
, pathname: ‘/status’
}</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>如果你想从查询字符串中提出这些参数，你可以使用require('querystring').parse 方法,或者传一个true 作为第二个
参数给require('url').parse 方法。
Example:
</code></pre></div></div>
<p>node&gt; require(‘url’).parse(‘/status?name=ryan’, true)
{ href: ‘/status?name=ryan’
, search: ‘?name=ryan’
, query: { name: ‘ryan’ }
, pathname: ‘/status’
}```</p>

<p><strong>request.headers</strong></p>

<p>只读</p>

<p><strong>request.httpVersion</strong></p>

<p>这是HTTP 协议版本（ 字符串形式) ， 只读。例如’1.1’,’1.0’ 。request.httpVersionMajor 是第一个数字，
request.httpVersionMinor 是第二个数字。</p>

<p><strong>request.setEncoding(encoding=’null’)</strong></p>

<p>设置此请求的包体的字集编码,’utf8’或者’binary’。缺省值是null，这表示’data’事件的参数将会是一个Buffer 对象。</p>

<p><strong>request.pause()</strong></p>

<p>暂停此request 触发事件.对于控制上传非常有用。</p>

<p><strong>request.resume()</strong></p>

<p>恢复一个暂停的request。</p>

<p><strong>request.connection</strong></p>

<p>request.connection 是一个代表当前连接的net.Stream 对象。
对于HTTPS，使用request.connection.verifyPeer() 和request.connection.getPeerCertificate()来获得客户端（浏览
器）的认证详情。</p>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
    
  </body>
</html>
